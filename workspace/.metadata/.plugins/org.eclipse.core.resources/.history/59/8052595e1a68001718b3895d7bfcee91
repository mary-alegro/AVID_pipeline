package SlideScan;

import java.awt.EventQueue;

import javax.swing.JFrame;
import javax.swing.JTabbedPane;

import org.micromanager.Studio;

import mmcorej.CMMCore;

import javax.swing.JButton;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import javax.swing.JLabel;
import java.awt.Choice;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

public class SlideScanUI {

	private JFrame frmUcsfSlideScan;
	
	//Plugin attributes
	private Studio gui_;
	private CMMCore core_;
	private SlideScanControler controler;

	/**
	 * Launch the application.
	 */
	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					SlideScanUI window = new SlideScanUI();
					window.frmUcsfSlideScan.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}
	
	public SlideScanUI(Studio gui) throws Exception{
		gui_ = gui;
        try {
            core_ = gui_.getCMMCore();
        } catch (Exception ex) {
            throw new Exception("SlideScan plugin could not get MMCore");
        }
        
        //Init GUI
		initialize();
	}

	/**
	 * Create the application.
	 */
	public SlideScanUI() {
		initialize();
	}
	
	public JFrame getFrame() {
		return this.frmUcsfSlideScan;
	}

	/**
	 * Initialize the contents of the frame.
	 */
	private void initialize() {
		frmUcsfSlideScan = new JFrame();
		frmUcsfSlideScan.setTitle("UCSF Slide Scan v0.01");
		frmUcsfSlideScan.setBounds(100, 100, 459, 335);
		frmUcsfSlideScan.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frmUcsfSlideScan.getContentPane().setLayout(null);
		
		JButton btnUp = new JButton("^");
		btnUp.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
			}
		});
		btnUp.setBounds(177, 66, 89, 23);
		frmUcsfSlideScan.getContentPane().add(btnUp);
		
		JButton btnDown = new JButton("v");
		btnDown.setBounds(177, 103, 89, 23);
		frmUcsfSlideScan.getContentPane().add(btnDown);
		
		JButton btnLeft = new JButton("<");
		btnLeft.addMouseListener(new MouseAdapter() {
			@Override
			public void mousePressed(MouseEvent e) {
				controler.getSerialHelper().moveLeft();
			}
		});
		btnLeft.setBounds(78, 85, 89, 23);
		frmUcsfSlideScan.getContentPane().add(btnLeft);
		
		JButton btnRight = new JButton(">");
		btnRight.addMouseListener(new MouseAdapter() {
			@Override
			public void mousePressed(MouseEvent e) {
				controler.getSerialHelper().moveRight();
			}
		});
		btnRight.setBounds(276, 85, 89, 23);
		frmUcsfSlideScan.getContentPane().add(btnRight);
		
		JLabel lblX = new JLabel("X:");
		lblX.setBounds(177, 137, 46, 14);
		frmUcsfSlideScan.getContentPane().add(lblX);
		
		JLabel lblY = new JLabel("Y:");
		lblY.setBounds(177, 154, 46, 14);
		frmUcsfSlideScan.getContentPane().add(lblY);
		
		JLabel lblCoordX = new JLabel("000");
		lblCoordX.setBounds(263, 137, 46, 14);
		frmUcsfSlideScan.getContentPane().add(lblCoordX);
		
		JLabel lblCoordY = new JLabel("000");
		lblCoordY.setBounds(263, 154, 46, 14);
		frmUcsfSlideScan.getContentPane().add(lblCoordY);
		
		JButton btnSetA = new JButton("Set A");
		btnSetA.setBounds(132, 192, 89, 23);
		frmUcsfSlideScan.getContentPane().add(btnSetA);
		
		JButton btnSetB = new JButton("Set B");
		btnSetB.setBounds(233, 192, 89, 23);
		frmUcsfSlideScan.getContentPane().add(btnSetB);
		
		JLabel lblUpperLeftCorner = new JLabel("Upper left corner (A):");
		lblUpperLeftCorner.setBounds(132, 237, 111, 14);
		frmUcsfSlideScan.getContentPane().add(lblUpperLeftCorner);
		
		JLabel lblCoordA = new JLabel("000");
		lblCoordA.setBounds(283, 237, 46, 14);
		frmUcsfSlideScan.getContentPane().add(lblCoordA);
		
		JLabel lblLowerRightCorner = new JLabel("Lower right corner (B):");
		lblLowerRightCorner.setBounds(132, 254, 111, 14);
		frmUcsfSlideScan.getContentPane().add(lblLowerRightCorner);
		
		JLabel lblCoordB = new JLabel("000");
		lblCoordB.setBounds(283, 254, 46, 14);
		frmUcsfSlideScan.getContentPane().add(lblCoordB);
		
		Choice menuCOMPort = new Choice();
		menuCOMPort.setBounds(81, 10, 86, 20);
		frmUcsfSlideScan.getContentPane().add(menuCOMPort);
	}
}
